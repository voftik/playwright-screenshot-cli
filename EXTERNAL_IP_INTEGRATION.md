# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–¥—É–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ IP

## üåç –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å—É

**URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞:** http://screenshots.xproduct.ru

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** –°–∞–π—Ç –∑–∞—â–∏—â–µ–Ω –±–∞–∑–æ–≤–æ–π HTTP –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π.

## üîå API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–Ω–µ—à–Ω–∏–º IP

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ IP
```bash
GET /api/external-ip
```
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{
  "success": true,
  "data": {
    "ip": "77.73.238.240",
    "source": "fallback-service",
    "cached": false,
    "timestamp": 1754314262311
  }
}
```

### 2. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ IP
```bash
GET /api/external-ip?force=true
```

### 3. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–µ—à–µ
```bash
GET /api/cache-info
```

### 4. –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞
```bash
POST /api/cache/clear
```

### 5. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
GET /api/config
```

### 6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
POST /api/config
Content-Type: application/json

{
  "cacheTtl": 600000,
  "timeout": 10000
}
```

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å IP —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
export EXTERNAL_IP=192.168.1.100
```

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ IP** —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–æ–≤
‚úÖ **Fallback –º–µ—Ö–∞–Ω–∏–∑–º** —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è EXTERNAL_IP  
‚úÖ **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ IP** –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –º–∏–Ω—É—Ç)
‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª** `external-ip.config.json` –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚úÖ **Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ç–µ–∫—É—â–µ–≥–æ IP –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
‚úÖ **RESTful API** –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `external-ip.config.json`:
```json
{
  "cacheTtl": 300000,
  "timeout": 5000,
  "fallbackServices": [
    "https://httpbin.org/ip",
    "https://icanhazip.com",
    "https://ifconfig.me/ip",
    "https://api.ipify.org"
  ]
}
```

## üìä –ò—Å—Ç–æ—á–Ω–∏–∫–∏ IP

–ú–æ–¥—É–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å IP –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:
1. **–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è** `EXTERNAL_IP`
2. **–ö–µ—à** (–µ—Å–ª–∏ –Ω–µ –∏—Å—Ç—ë–∫)
3. **public-ip –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**
4. **Fallback —Å–µ—Ä–≤–∏—Å—ã**
5. **–£—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫–µ—à** (–≤ –∫—Ä–∞–π–Ω–µ–º —Å–ª—É—á–∞–µ)

## üöÄ –°—Ç–∞—Ç—É—Å

–ú–æ–¥—É–ª—å —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π Screenshot Dashboard.
–°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: **http://screenshots.xproduct.ru**
